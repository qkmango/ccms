<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>欢迎</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../../../lib/layui-v2.6.3/css/layui.css" media="all">
    <link rel="stylesheet" href="../../../../lib/font-awesome-4.7.0/css/font-awesome.min.css" media="all">
    <link rel="stylesheet" href="../../../../css/public.css" media="all">
</head>
<body>
<div class="layuimini-container">
    <div class="layuimini-main">
        <fieldset class="table-search-fieldset">
            <legend>消费信息</legend>
            <div style="margin: 10px 10px 10px 10px">
                <form class="layui-form layui-form-pane" lay-filter='consume' id="consume">
                    <div class="layui-form-item">

                        <div class="layui-inline">
                            <label class="layui-form-label">起始时间</label>
                            <div class="layui-input-inline">
                                <input type="text" name="startCreateTime" id="startCreateTime" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">结束时间</label>
                            <div class="layui-input-inline">
                                <input type="text" name="endCreateTime" id="endCreateTime" autocomplete="off"
                                       class="layui-input">
                            </div>
                        </div>

                        <div class="layui-inline">
                            <label class="layui-form-label">类别</label>
                            <div class="layui-input-inline">
                                <select name="type" id="type">
                                    <option value="">全部</option>
                                    <option value="WATER">水费</option>
                                    <option value="ELECTRIC">电费</option>
                                    <option value="MEAL_EXPENSE">餐费</option>
                                    <option value="DORMITORY_FEE">住宿费</option>
                                    <option value="RECHARGE">充值</option>
                                    <option value="PAYMENT">缴费</option>
                                    <option value="REFUND">退款</option>
                                    <option value="OTHER">其他</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-inline">
                            <button type="submit" class="layui-btn layui-btn-primary" lay-submit
                                    lay-filter="data-search-btn"><i class="fa fa-search"></i> 搜索
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </fieldset>

        <div id="echarts-records" style="width: 100%;min-height:500px"></div>
    </div>
</div>
<script src="../../../../lib/util/color.js"></script>
<script src="../../../../lib/layui-v2.6.3/layui.js" charset="utf-8"></script>
<script src="../../../../js/lay-config.js" charset="utf-8"></script>
<script>
    layui.use(['layer', 'miniTab', 'echarts'], function () {
        var $ = layui.jquery,
            layer = layui.layer,
            miniTab = layui.miniTab,
            echarts = layui.echarts;

        miniTab.listen();

        /**
         * 报表功能
         */
        const echartsRecords = echarts.init(document.getElementById('echarts-records'), 'walden');
        const optionRecords = {
            title: {
                text: '消费信息',
                left: 'center',
            },
            xAxis: {
                type: 'category',
                name: '日期',
                data: ['2020-10-10', '2020-10-11', '2020-10-12', '2020-10-13', '2020-10-14', '2020-10-15', '2020-10-16'],
                axisPointer: {
                    show: true,
                    type: 'shadow',
                    label: {
                        show: true
                    }
                },
                axisLabel: {
                    // interval: 0,
                    // rotate: 30
                }
            },
            yAxis: {
                type: 'value',
                name: '金额'
            },
            series: {
                data: [150, 230, 224, 218, 135, 147, 260],
                type: 'line',
                smooth: true,
                lineStyle: {
                    color: color.green
                },
                itemStyle: {
                    color: color.green
                },
                areaStyle: {
                    //0.2透明度
                    color: color.green,
                    opacity: 0.2
                }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross'
                }
            }

        };
        echartsRecords.setOption(optionRecords);

        // echarts 窗口缩放自适应
        window.onresize = function () {
            echartsRecords.resize();
        }

    });
</script>
</body>
</html>
